<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE sqlMap PUBLIC "-//ibatis.apache.org//DTD SQL Map 2.0//EN" "http://ibatis.apache.org/dtd/sql-map-2.dtd">
<sqlMap namespace="IBatisDefault">
<!-- 自动组装Where条件  chris 2011-08-15  -->
	<sql id="Where_Clause">
		<!--
			WARNING - This element is automatically generated by Apache iBATIS
			ibator, do not modify. This element was generated on Mon Mar 15
			11:03:37 CST 2010.
		-->
		<iterate conjunction="and" prepend="where" property="filterCriterions" removeFirstPrepend="iterate">
			<isEqual compareValue="Single" property="filterCriterions[].type">
			$filterCriterions[].propertyName$ $filterCriterions[].op$
			</isEqual>
			<isEqual compareValue="Simple" property="filterCriterions[].type">
				<isEqual compareValue=" like " property="filterCriterions[].op">
					$filterCriterions[].propertyName$ $filterCriterions[].op$ '%' || #filterCriterions[].value# || '%'
				</isEqual>
				<isNotEqual compareValue=" like " property="filterCriterions[].op">
					$filterCriterions[].propertyName$ $filterCriterions[].op$ #filterCriterions[].value#
				</isNotEqual>
			</isEqual>
			<isEqual compareValue="MultiValued" property="filterCriterions[].type">
				$filterCriterions[].propertyName$ $filterCriterions[].op$
				<isEqual compareValue=" between " property="filterCriterions[].op">
					#filterCriterions[].paramValues[0]# and #filterCriterions[].paramValues[1]#
				</isEqual>
				<isNotEqual compareValue=" between " property="filterCriterions[].op">
					<iterate conjunction="," property="filterCriterions[].paramValues" open="(" close=")">
					#filterCriterions[].paramValues[]#
        			</iterate>
				</isNotEqual>
			</isEqual>
			<isEqual compareValue="SQL" property="filterCriterions[].type">
			$filterCriterions[].propertyName$
			</isEqual>
			<isEqual compareValue="Junction" property="filterCriterions[].type">
				<isEqual compareValue=" or " property="filterCriterions[].op">
					<iterate conjunction="or" property="filterCriterions[].conditions" open="(" close=")">
						<isEqual compareValue="Single" property="filterCriterions[].conditions[].type">
						$filterCriterions[].conditions[].propertyName$ $filterCriterions[].conditions[].op$
						</isEqual>
						<isEqual compareValue="Simple" property="filterCriterions[].conditions[].type">
							<isEqual compareValue=" like " property="filterCriterions[].conditions[].op">
								$filterCriterions[].conditions[].propertyName$ $filterCriterions[].conditions[].op$ '%' || #filterCriterions[].conditions[].value# || '%'
							</isEqual>
							<isNotEqual compareValue=" like " property="filterCriterions[].conditions[].op">
								$filterCriterions[].conditions[].propertyName$ $filterCriterions[].conditions[].op$ #filterCriterions[].conditions[].value#
							</isNotEqual>
						</isEqual>
						<isEqual compareValue="MultiValued" property="filterCriterions[].conditions[].type">
							$filterCriterions[].conditions[].propertyName$ $filterCriterions[].conditions[].op$
							<isEqual compareValue=" between " property="filterCriterions[].conditions[].op">
								#filterCriterions[].conditions[].paramValues[0]# and #filterCriterions[].conditions[].paramValues[1]#
							</isEqual>
							<isNotEqual compareValue=" between " property="filterCriterions[].conditions[].op">
								<iterate conjunction="," property="filterCriterions[].conditions[].paramValues" open="(" close=")">
								#filterCriterions[].conditions[].paramValues[]#
			        			</iterate>
							</isNotEqual>
						</isEqual>
						<isEqual compareValue="SQL" property="filterCriterions[].conditions[].type">
						$filterCriterions[].conditions[].propertyName$
						</isEqual>
					</iterate>
				</isEqual>
				<isNotEqual compareValue=" or " property="filterCriterions[].op">
					<iterate conjunction="and" property="filterCriterions[].conditions" open="(" close=")">
						<isEqual compareValue="Single" property="filterCriterions[].conditions[].type">
						$filterCriterions[].conditions[].propertyName$ $filterCriterions[].conditions[].op$
						</isEqual>
						<isEqual compareValue="Simple" property="filterCriterions[].conditions[].type">
							<isEqual compareValue=" like " property="filterCriterions[].conditions[].op">
								$filterCriterions[].conditions[].propertyName$ $filterCriterions[].conditions[].op$ '%' || #filterCriterions[].conditions[].value# || '%'
							</isEqual>
							<isNotEqual compareValue=" like " property="filterCriterions[].conditions[].op">
								$filterCriterions[].conditions[].propertyName$ $filterCriterions[].conditions[].op$ #filterCriterions[].conditions[].value#
							</isNotEqual>
						</isEqual>
						<isEqual compareValue="MultiValued" property="filterCriterions[].conditions[].type">
							$filterCriterions[].conditions[].propertyName$ $filterCriterions[].conditions[].op$
							<isEqual compareValue=" between " property="filterCriterions[].conditions[].op">
								#filterCriterions[].conditions[].paramValues[0]# and #filterCriterions[].conditions[].paramValues[1]#
							</isEqual>
							<isNotEqual compareValue=" between " property="filterCriterions[].conditions[].op">
								<iterate conjunction="," property="filterCriterions[].conditions[].paramValues" open="(" close=")">
								#filterCriterions[].conditions[].paramValues[]#
			        			</iterate>
							</isNotEqual>
						</isEqual>
						<isEqual compareValue="SQL" property="filterCriterions[].conditions[].type">
						$filterCriterions[].conditions[].propertyName$
						</isEqual>
					</iterate>
				</isNotEqual>
			</isEqual>
		</iterate>
	</sql>

	<sql id="DynaInsertCriteria">
		<!--
			WARNING - This element is automatically generated by Apache iBATIS
			ibator, do not modify. This element was generated on Mon Mar 15
			11:03:37 CST 2010.
		-->
		<isEqual compareValue="true" property="dynaSQLCriteria.valid">
			INSERT INTO $dynaSQLCriteria.insertCriteria.tableName$ 
			(
			<iterate conjunction=","
							property="dynaSQLCriteria.insertCriteria.fieldNames">
				$dynaSQLCriteria.insertCriteria.fieldNames[]$	
			</iterate>
			) values (
			<iterate conjunction=","
							property="dynaSQLCriteria.insertCriteria.fieldValues">
				#dynaSQLCriteria.insertCriteria.fieldValues[]#	
			</iterate>
			)
		</isEqual>
	</sql>
	
	<sql id="DynaUpdateCriteria">
		<!--
			WARNING - This element is automatically generated by Apache iBATIS
			ibator, do not modify. This element was generated on Mon Mar 15
			11:03:37 CST 2010.
		-->
		<isEqual compareValue="true" property="dynaSQLCriteria.valid">
			UPDATE $dynaSQLCriteria.updateCriteria.tableName$ SET 
			<iterate conjunction="," 
							property="dynaSQLCriteria.updateCriteria.fields" >
				$dynaSQLCriteria.updateCriteria.fields[].key$ = #dynaSQLCriteria.updateCriteria.fields[].value#
			</iterate>
		</isEqual>
	</sql>
	
	<sql id="DynaDeleteCriteria">
		<!--
			WARNING - This element is automatically generated by Apache iBATIS
			ibator, do not modify. This element was generated on Mon Mar 15
			11:03:37 CST 2010.
		-->
		<isEqual compareValue="true" property="dynaSQLCriteria.valid">
			DELETE FROM $dynaSQLCriteria.deleteCriteria.tableName$ 
		</isEqual>
	</sql>
	
	<sql id="DynaSearchCriteria">
		<!--
			WARNING - This element is automatically generated by Apache iBATIS
			ibator, do not modify. This element was generated on Mon Mar 15
			11:03:37 CST 2010.
		-->
		<isEqual compareValue="true" property="dynaSQLCriteria.valid">
			$dynaSQLCriteria.selectCriteria.sql$ 
		</isEqual>
	</sql>
	
<!-- 取序列号-Oracle  chris 2011-08-22  -->
	<select id="OraclegetRecordId" resultClass="java.lang.String">
		select seq_pub_idgrantor.nextval from dual
	</select>
<!-- 根据名称取序列号-Oracle  chris 2011-08-22  -->
	<select id="OracleSequence" resultClass="java.lang.String">
		select $name$.nextval from dual
	</select>

<!-- 取序列号-SQL Server  chris 2011-08-22  -->
	<select id="SQLServergetRecordId" resultClass="java.lang.String">
		SELECT SCOPE_IDENTITY() AS ID 
	</select>

</sqlMap>